(()=>{"use strict";var e={1020:(e,n,t)=>{var r=t(1609),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var r,l={},c=null,u=null;for(r in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)o.call(n,r)&&!i.hasOwnProperty(r)&&(l[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===l[r]&&(l[r]=n[r]);return{$$typeof:a,type:e,key:c,ref:u,props:l,_owner:s.current}}n.Fragment=l,n.jsx=c,n.jsxs=c},1609:e=>{e.exports=window.React},4848:(e,n,t)=>{e.exports=t(1020)}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var l=n[r]={exports:{}};return e[r](l,l.exports,t),l.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);const r=window.wc.wcBlocksRegistry;var a=t(1609);const l=window.jQuery;var o=t.n(l);const s=window.wp.i18n;var i=t(4848);const c=(e,n)=>{const t=wc?.wcSettings?.getSetting(e+"_data",null);if(!t)throw new Error(e+" initialization data is not available");return t},u=(e,n)=>{var t;if(null!==(t=c(e)?.can_make_payment)&&void 0!==t&&t){const t=v(e);if(null!==t&&parseInt(n.cart.cartTotals.total_price)<t)return!1;const r=p(e);return!(null!==r&&parseInt(n.cart.cartTotals.total_price)>r)}return!1},d=e=>{var n;return null!==(n=c(e)?.content)&&void 0!==n?n:""},v=e=>{var n;return null!==(n=c(e)?.min_amount)&&void 0!==n?n:null},p=e=>{var n;return null!==(n=c(e)?.max_amount)&&void 0!==n?n:null},m=e=>{var n;return null!==(n=c(e)?.features)&&void 0!==n?n:[]},_=e=>{var n;return null!==(n=c(e)?.show_saved_cards)&&void 0!==n&&n},x=e=>{var n;return null!==(n=c(e)?.show_save_option)&&void 0!==n&&n},h=e=>{var n;return null!==(n=c(e)?.installments?.title_text)&&void 0!==n?n:""},y=e=>{var n;return null!==(n=c(e)?.installments?.one_solution_text)&&void 0!==n?n:""},f=e=>{var n;return null!==(n=c(e)?.recurring?.disclaimer_text)&&void 0!==n?n:""},w=({label:e,icons:n,components:t})=>{const{PaymentMethodLabel:r,PaymentMethodIcons:a}=t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r,{text:e}),a&&n.length>0&&(0,i.jsx)(a,{icons:n,align:"right"})]})},j=({paymentMethodName:e,eventRegistration:n})=>{const{onPaymentSetup:t}=n,r=(e=>{var n;return Object.entries(null!==(n=c(e)?.all_card_icons)&&void 0!==n?n:[]).map((([e,{src:n,alt:t}])=>({id:e,src:n,alt:t})))})(e),l=(e=>{var n;return null!==(n=c(e)?.installments?.enabled)&&void 0!==n&&n})(e),s=(e=>{var n;return null!==(n=c(e)?.installments?.options)&&void 0!==n?n:[]})(e),u=(e=>{var n;return null!==(n=c(e)?.installments?.is_pago_dil)&&void 0!==n&&n})(e),v=(e=>{var n;return null!==(n=c(e)?.installments?.pago_dil_admin_url)&&void 0!==n?n:""})(e),p=(e=>{var n;return null!==(n=c(e)?.installments?.pago_dil_installment_amount_label)&&void 0!==n?n:""})(e),m=(e=>{var n;return null!==(n=c(e)?.recurring?.enabled)&&void 0!==n&&n})(e),[_,x]=(0,a.useState)((e=>{var n;return null!==(n=c(e)?.installments?.default_option)&&void 0!==n?n:""})(e)),[w,j]=(0,a.useState)(p);return(0,a.useEffect)((()=>t((()=>async function(){const e={type:"success",meta:{paymentMethodData:{}}};return l&&s.length>0&&(e.meta.paymentMethodData.nexi_xpay_number_of_installments=_),e}()))),[t,l,s,_]),(0,a.useEffect)((()=>{!u||!l||!s.length>0?j(""):o().ajax({type:"POST",data:{action:"calc_installments",installments:parseInt(_)},url:v+"admin-ajax.php",success:function(e){j(e.installmentsLabel)},complete:function(){}})}),[v,_,j,o()]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:d(e)}),(0,i.jsx)("div",{class:"nexixpay-loghi-container flex",children:(0,i.jsx)("div",{class:"internal-container",children:r.map((e=>(0,i.jsx)("div",{class:"img-container",children:(0,i.jsx)("img",{src:e.src,alt:e.alt})},e.id)))})}),l&&s.length>0&&(0,i.jsxs)("div",{className:"wc-gateway-nexi-xpay-block-checkout-additional-info",children:[(0,i.jsx)("div",{children:(0,i.jsx)("label",{className:"wc-gateway-nexi-xpay-block-checkout-row",children:h(e)})}),(0,i.jsxs)("select",{defaultValue:"",onChange:e=>x(e.target.value),children:[!u&&(0,i.jsx)("option",{value:"",children:y(e)}),s.map((e=>(0,i.jsx)("option",{value:e,children:e})))]}),u&&(0,i.jsx)("div",{className:"wc-gateway-nexi-xpay-block-checkout-row",children:(0,i.jsx)("span",{children:w})})]}),m&&(0,i.jsx)("div",{children:(0,i.jsx)("span",{children:f(e)})})]})};(0,r.registerPaymentMethod)(((e,n)=>{let t=n=>u(e,n);void 0!==n&&(t=t=>u(e,t)&&n(t));const r=(e=>{var n;return null!==(n=c(e)?.label)&&void 0!==n?n:""})(e),a=(e=>{var n;return Object.entries(null!==(n=c(e)?.icons)&&void 0!==n?n:[]).map((([e,{src:n,alt:t}])=>({id:e,src:n,alt:t})))})(e),l=(e=>{var n;return Object.entries(null!==(n=c(e)?.content_icons)&&void 0!==n?n:[]).map((([e,{src:n,alt:t}])=>({id:e,src:n,alt:t})))})(e);return{name:e,content:(0,i.jsx)(j,{paymentMethodName:e}),label:(0,i.jsx)(w,{label:r,icons:a}),edit:(0,i.jsx)(j,{content:d(e),icons:l}),icons:a,canMakePayment:t,ariaLabel:(0,s.__)(r,"woocommerce-gateway-nexi-xpay"),supports:{showSavedCards:_(e),showSaveOption:x(e),features:m(e)}}})("xpay_npg_payu"))})();